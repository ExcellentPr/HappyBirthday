<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Happy Birthday! ðŸŽ‰ðŸŒ¸</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffb7d5; /* pink */
      --bg2:#c739cc; /* blue */
      --bg3:#ffe8a3; /* yellow */
      --ink:#2b2540;
      --accent:#ff5fa2;
      --accent-2:#8a2be2;
      --white:#ffffff;
      --glow:0 0 20px rgba(151, 14, 105, 0.6);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:"Poppins", system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--ink);
     /* background: radial-gradient(1200px 800px at 10% 10%, var(--bg1), transparent 60%),
                  radial-gradient(1000px 700px at 90% 20%, var(--bg2), transparent 60%),
                  radial-gradient(1000px 600px at 20% 90%, var(--bg3), transparent 60%),
                  linear-gradient(120deg, #fff6fb 0%, #f7f9ff 100%);*/
                    background: url('mj.jpeg') no-repeat center center fixed;

      overflow-x:hidden;
      --anim-speed: 22s;
      animation: hueFlow calc(var(--anim-speed) * 2) linear infinite;
    }

    @keyframes hueFlow{
      0%{filter:hue-rotate(0deg)}
      100%{filter:hue-rotate(360deg)}
    }

    .frame{
      position:fixed; inset:24px;
      border-radius:24px;
      border: 2px solid rgba(255,255,255,.7);
      box-shadow: 0 10px 40px rgba(43,37,64,.15), inset 0 0 40px rgba(255,255,255,.25);
      pointer-events:none;
    }

    .wrap{
      min-height:100%;
      display:grid; place-items:center;
      padding: clamp(20px, 4vw, 40px);
    }

    .card{
      position:relative;
      width:min(1000px, 92vw);
      border-radius:28px;
      background:rgba(255, 255, 255, 0.192);
      backdrop-filter: blur(8px) saturate(1.2);
      box-shadow: 0 20px 60px rgba(43,37,64,.18);
      padding: clamp(22px, 5vw, 40px);
      overflow:hidden;
    }

    /* Headline */
    .title{
      display:flex; flex-direction:column; align-items:center; gap:.4rem;
      text-align:center;
    }
    .title h1{
      margin:0;
      font-family:"Playful, handwritten", cursive;
      font-weight:400;
      font-size: clamp(48px, 8.5vw, 110px);
      line-height:1;
      letter-spacing:.5px;
      background: linear-gradient(90deg, #ff5fa2, #915eff, #00dbde, #fc00ff);
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 10px 30px rgba(145,94,255,.25);
      animation: floatY 6s ease-in-out infinite;
    }
    .title p{
      margin:0;
      font-size: clamp(14px, 2.5vw, 20px);
      opacity:.85;
    }

    @keyframes floatY{
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-8px)}
    }

    /* Callout ribbon */
    .ribbon{
      margin: 18px auto 8px;
      padding:.6rem 1rem;
      width: fit-content;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(255,95,162,.2), rgba(145,94,255,.2));
      border:1px solid rgba(145,94,255,.35);
      box-shadow: inset 0 0 12px rgba(255,255,255,.65);
      font-weight:600;
    }

    /* Buttons */
    .actions{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:12px}
    button{
      appearance:none; border:0; cursor:pointer;
      padding:.85rem 1.1rem; border-radius:16px;
      background:linear-gradient(180deg, #ec38c5, #a07ecf);
      border:1px solid rgba(145,94,255,.4);
      font-weight:600; letter-spacing:.25px;
      box-shadow: 0 8px 18px rgba(43,37,64,.15);
      transition: transform .2s ease, box-shadow .2s ease;
    }
    button:hover{ transform: translateY(-2px); box-shadow: 0 14px 24px rgba(43,37,64,.18)}

    /* SVG Garden */
    .garden{
      position:absolute; inset:0;
      pointer-events:none;
      overflow:visible;
      filter: drop-shadow(0 10px 20px rgba(43,37,64,.15));
    }

    .flower{ transform-origin:center; animation: bloom 1.6s ease-out both; }
    .flower:nth-child(2){ animation-delay:.15s }
    .flower:nth-child(3){ animation-delay:.3s }
    .flower:nth-child(4){ animation-delay:.45s }

    @keyframes bloom{ from{ transform: scale(.2) rotate(-8deg); opacity:0 } to{ transform: scale(1) rotate(0); opacity:1 } }

    .stem{ stroke:#da0db8; stroke-width:5; fill:none; stroke-linecap:round }
    .petal{ fill:url(#petalGrad); transform-origin:inherit; animation: petalWiggle 8s ease-in-out infinite }
    .center{ fill:url(#centerGrad) }

    @keyframes petalWiggle{ 0%,100%{ transform: rotate(0) } 50%{ transform: rotate(2.5deg) } }

    /* Floating petals */
    .petals{ position:absolute; inset:0; pointer-events:none; overflow:hidden }
    .petals span{
      position:absolute; top:-10vh;
      width: clamp(8px, 1.6vw, 16px); height: clamp(6px, 1.2vw, 12px);
      background: radial-gradient(circle at 30% 30%, #fff, #ffc0cb 55%, #ff5fa2 100%);
      border-radius: 60% 40% 60% 40% / 60% 40% 60% 40%;
      filter: blur(.2px);
      opacity:.9;
      animation: fall var(--fall,12s) linear infinite, drift 6s ease-in-out infinite;
    }
    @keyframes fall{
      to{ transform: translateY(110vh) translateX(var(--x, 0)) rotate(360deg) }
    }
    @keyframes drift{
      0%, 100%{ margin-left:0 }
      50%{ margin-left: 20px }
    }

    /* Sparkles */
    .sparkles{
      position:absolute; inset:0; pointer-events:none;
      background:
        radial-gradient(circle, rgba(255,255,255,.9) 0 1px, transparent 2px) 10% 20%/4px 4px,
        radial-gradient(circle, rgba(255,255,255,.9) 0 1px, transparent 2px) 70% 30%/4px 4px,
        radial-gradient(circle, rgba(255,255,255,.9) 0 1px, transparent 2px) 40% 80%/4px 4px;
      animation: sparkle 3s ease-in-out infinite;
      mix-blend-mode: screen;
    }
    @keyframes sparkle{ 50%{ opacity:.5; filter: drop-shadow(var(--glow)) } }

    /* Footer note */
    .note{
      margin-top:14px; text-align:center; font-size: .9rem; opacity:.75
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration: .001ms !important; animation-iteration-count: 1 !important }
    }
  </style>
</head>
<body>
<audio id="bgMusic" loop>
  <source src="Ordinary.mp3" type="audio/mpeg">
</audio>

  <div class="frame" aria-hidden="true"></div>
  <div class="wrap">
    <main class="card" role="main" aria-labelledby="h1">
      <!-- SVG Garden background -->
      <svg class="garden" viewBox="0 0 1200 700" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
        <defs>
          <linearGradient id="petalGrad" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0%" stop-color="#ffd6e8"/>
            <stop offset="60%" stop-color="#ff82bf"/>
            <stop offset="100%" stop-color="#b47bff"/>
          </linearGradient>
          <radialGradient id="centerGrad" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#ffeaa7"/>
            <stop offset="100%" stop-color="#ffb347"/>
          </radialGradient>
        </defs>
        <!-- Left flower cluster -->
        <g class="flower" transform="translate(160,520)">
          <path class="stem" d="M0 0 C 30 -40, 60 -120, 40 -220" />
          <g transform="translate(40,-220)">
            <g>
              <ellipse class="petal" rx="26" ry="56" transform="rotate(0) translate(0,-40)"/>
              <ellipse class="petal" rx="26" ry="56" transform="rotate(72) translate(0,-40)"/>
              <ellipse class="petal" rx="26" ry="56" transform="rotate(144) translate(0,-40)"/>
              <ellipse class="petal" rx="26" ry="56" transform="rotate(216) translate(0,-40)"/>
              <ellipse class="petal" rx="26" ry="56" transform="rotate(288) translate(0,-40)"/>
              <circle class="center" r="18"/>
            </g>
          </g>
        </g>
        <!-- Right flower cluster -->
        <g class="flower" transform="translate(1040,540)">
          <path class="stem" d="M0 0 C -20 -50, -60 -140, -30 -240" />
          <g transform="translate(-30,-240)">
            <g>
              <ellipse class="petal" rx="22" ry="50" transform="rotate(0) translate(0,-36)"/>
              <ellipse class="petal" rx="22" ry="50" transform="rotate(72) translate(0,-36)"/>
              <ellipse class="petal" rx="22" ry="50" transform="rotate(144) translate(0,-36)"/>
              <ellipse class="petal" rx="22" ry="50" transform="rotate(216) translate(0,-36)"/>
              <ellipse class="petal" rx="22" ry="50" transform="rotate(288) translate(0,-36)"/>
              <circle class="center" r="16"/>
            </g>
          </g>
        </g>
        <!-- Bottom center peony -->
        <g class="flower" transform="translate(600,640)">
          <path class="stem" d="M0 0 C -10 -40, -5 -100, 0 -140" />
          <g transform="translate(0,-140) scale(1.2)">
            <g>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(0) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(45) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(90) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(135) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(180) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(225) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(270) translate(0,-55)"/>
              <ellipse class="petal" rx="40" ry="70" transform="rotate(315) translate(0,-55)"/>
              <circle class="center" r="22"/>
            </g>
          </g>
        </g>
      </svg>

      <!-- Floating petals -->
      <div class="petals" aria-hidden="true"></div>
      <div class="sparkles" aria-hidden="true"></div>

      <section class="title">
        <div class="ribbon">Happy 20th Birthday âœ¨</div>
        <h1 id="h1">Happy Birthday, <span id="name">to my MJ</span>! ðŸŽ‚</h1>
        <p id="message">Wishing you a day that blossoms with joy, laughter, and beautiful surprises.</p>
        <div class="actions" aria-label="actions">
          <button id="burst">Click me</button>
        </div>
        <div class="note">From <code>Mr----------</code> to my Lovely MJ.</div>
      </section>
      <canvas id="confetti" width="1200" height="700" style="position:absolute; inset:0; width:100%; height:100%; pointer-events:none"></canvas>
    </main>
  </div>

  <script>
  // ===== Personalization via URL params =====
  const params = new URLSearchParams(location.search);
  const nameEl = document.getElementById('name');
  const msgEl = document.getElementById('message');
  if(params.get('name')) nameEl.textContent = decodeURIComponent(params.get('name'));
  if(params.get('msg')) msgEl.textContent = decodeURIComponent(params.get('msg'));

  // ===== Floating petals generator =====
  const petalsWrap = document.querySelector('.petals');
  const PETAL_COUNT = 40;
  for(let i=0;i<PETAL_COUNT;i++){
    const s = document.createElement('span');
    s.style.left = Math.random()*100 + 'vw';
    s.style.setProperty('--x', (Math.random()*60-30) + 'px');
    s.style.setProperty('--fall', (10+Math.random()*10)+'s');
    s.style.animationDelay = (Math.random()*-20)+'s';
    s.style.transform = `translateY(${Math.random()*100}vh)`;
    petalsWrap.appendChild(s);
  }

  // ===== Confetti (vanilla canvas) =====
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  const DPR = Math.max(1, window.devicePixelRatio || 1);

  function resizeCanvas(){
    const rect = canvas.getBoundingClientRect();
    canvas.width = rect.width * DPR;
    canvas.height = rect.height * DPR;
  }
  resizeCanvas();
  addEventListener('resize', resizeCanvas);

  function ConfettiPiece(){
    this.x = Math.random() * canvas.width;
    this.y = -20;
    this.w = 6 + Math.random()*10;
    this.h = 8 + Math.random()*14;
    this.vx = -1 + Math.random()*2;
    this.vy = 2 + Math.random()*3;
    this.r = Math.random()*Math.PI;
    this.vr = -0.1 + Math.random()*0.2;
    const palette = ['#ff5fa2','#915eff','#00dbde','#fc00ff','#ffd166','#06d6a0','#ef476f'];
    this.color = palette[(Math.random()*palette.length)|0];
  }
  ConfettiPiece.prototype.update = function(){
    this.x += this.vx; this.y += this.vy; this.r += this.vr;
  }
  ConfettiPiece.prototype.draw = function(){
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.rotate(this.r);
    ctx.fillStyle = this.color;
    ctx.fillRect(-this.w/2, -this.h/2, this.w, this.h);
    ctx.restore();
  }

  let confetti = [];
  function burst(n=150){
    for(let i=0;i<n;i++) confetti.push(new ConfettiPiece());
  }

  function loop(){
    ctx.clearRect(0,0,canvas.width, canvas.height);
    confetti.forEach(c=>{ c.update(); c.draw(); });
    confetti = confetti.filter(c => c.y < canvas.height+40);
    requestAnimationFrame(loop);
  }
  loop();

  // ===== Background music =====
  const music = document.getElementById('bgMusic');

  // ===== Single button to play music and confetti =====
  const startBtn = document.getElementById('burst'); // re-use your current button
  startBtn.addEventListener('click', () => {
    // Play music on first click
    if(music.paused) music.play();
    // Trigger confetti
    burst(180);
  });

  // Theme switcher (soft shuffle of background and accent hues)
  function randomPastel(){
    const h = Math.floor(Math.random()*360);
    return `hsl(${h} 100% 85%)`;
  }
</script>

  
</body>
</html>
